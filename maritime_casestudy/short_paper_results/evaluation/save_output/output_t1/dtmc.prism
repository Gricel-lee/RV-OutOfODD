dtmc

const int f1=-1;  // TTC
const int f2=0; // Collision/near miss
const int s1 = 1; 
const int s2 = 2; 
const int s3 = 3; 
const int s4 = 4; 
const int s5 = 5; 

const int init_situation;

module System
  s : [-1..5] init init_situation;

  // Situation: s1
  [check_situation] s=s1 & t=0 ->  5.90727010755128e-07:(s'=f1) +  0.9999812965943085:(s'=f2) +  9.899659945421294e-07:(s'=s1) +  1.9250047407158e-06:(s'=s2) +  3.601521479741487e-06:(s'=s3) +  5.48443393143182e-06:(s'=s4) +  6.111752534351132e-06:(s'=s5);

  // Situation: s3
  [check_situation] s=s3 & t=0 ->  0.9999788277979348:(s'=f1) +  2.6992191084601047e-06:(s'=f2) +  4.097811516889582e-06:(s'=s1) +  3.1428867592837467e-06:(s'=s2) +  3.1721158722814365e-06:(s'=s3) +  4.2351470509587885e-06:(s'=s4) +  3.825021757437048e-06:(s'=s5);

  // Situation: s4
  [check_situation] s=s4 & t=0 ->  4.0270601101008286e-06:(s'=f1) +  0.999977018809894:(s'=f2) +  3.2347482053388845e-07:(s'=s1) +  4.564608593673477e-06:(s'=s2) +  5.194803628443975e-06:(s'=s3) +  3.946264377991299e-06:(s'=s4) +  4.924978575112873e-06:(s'=s5);

  // Situation: s5
  [check_situation] s=s5 & t=0 ->  0.9999809525555018:(s'=f1) +  1.4705612877652106e-06:(s'=f2) +  3.850132319498246e-06:(s'=s1) +  9.80199706640844e-07:(s'=s2) +  4.600186043870187e-06:(s'=s3) +  3.8734551749164495e-06:(s'=s4) +  4.272909965470612e-06:(s'=s5);


endmodule

module Turn
  // 0: checking situation
  // 1: check number of situations spent at close distance
  t : [0..1] init 0;
  [check_situation] true -> 1:(t'=1);
  [monitor_time] true -> 1:(t'=0);
endmodule
